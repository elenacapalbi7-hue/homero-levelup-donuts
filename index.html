<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Homero Game Multiverse</title>
    <style>
        body { margin: 0; background: #000; color: #fff; font-family: sans-serif; overflow: hidden; touch-action: none; }
        #canvas { display: block; background: #5c94fa; margin: 0 auto; border: 4px solid #fff; }
        #ui-overlay { position: absolute; top: 10px; width: 100%; text-align: center; pointer-events: none; }
        .hud { background: rgba(0,0,0,0.6); padding: 5px 15px; border-radius: 20px; display: inline-block; }
        #controles { position: absolute; bottom: 20px; width: 100%; display: flex; justify-content: center; gap: 20px; }
        .btn { width: 60px; height: 60px; background: rgba(255,255,255,0.3); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; user-select: none; }
    </style>
</head>
<body>

<div id="ui-overlay">
    <div class="hud">
        Nivel: <span id="lvl">1</span> | <span id="game-name">Street Fighter</span><br>
        Donas: <span id="donas">0</span>/10
    </div>
</div>

<canvas id="canvas"></canvas>

<div id="controles">
    <div class="btn" id="btn-izq">拘勇</div>
    <div class="btn" id="btn-saltar">拘勇</div>
    <div class="btn" id="btn-der">俱뫮잺</div>
</div>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight * 0.7;

let nivel = 0;
let donasRecolectadas = 0;
const listaJuegos = ["Street Fighter", "Mario World", "Sonic", "Pac-Man", "Doom"]; // Agregaremos los 25

// Propiedades de Homero (El Jugador)
let homero = { x: 50, y: canvas.height - 70, w: 40, h: 60, dy: 0, saltando: false, speed: 5 };
let donas = [];

function crearDona() {
    donas.push({ x: Math.random() * (canvas.width - 30), y: -30, size: 30 });
}

function update() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // DIBUJAR JUGADOR (Caja amarilla temporal hasta que subas la foto)
    ctx.fillStyle = "#FFD700";
    ctx.fillRect(homero.x, homero.y, homero.w, homero.h);
    ctx.fillStyle = "#000";
    ctx.fillText("HOMERO", homero.x, homero.y + 30);

    // L칩gica de Gravedad b치sica
    homero.y += homero.dy;
    if (homero.y + homero.h < canvas.height) {
        homero.dy += 0.8;
    } else {
        homero.y = canvas.height - homero.h;
        homero.dy = 0;
        homero.saltando = false;
    }

    // DIBUJAR Y MOVER DONAS
    ctx.font = "30px Arial";
    donas.forEach((d, index) => {
        d.y += 3 + nivel; // Caen m치s r치pido cada nivel
        ctx.fillText("游꼴", d.x, d.y);

        // Colisi칩n con Homero
        if (d.x < homero.x + homero.w && d.x + 30 > homero.x && d.y < homero.y + homero.h && d.y + 30 > homero.y) {
            donas.splice(index, 1);
            donasRecolectadas++;
            document.getElementById('donas').innerText = donasRecolectadas;
            if(donasRecolectadas >= 10) subirNivel();
        }
    });

    requestAnimationFrame(update);
}

function subirNivel() {
    nivel++;
    donasRecolectadas = 0;
    document.getElementById('donas').innerText = "0";
    document.getElementById('lvl').innerText = nivel + 1;
    document.getElementById('game-name').innerText = listaJuegos[nivel] || "Siguiente Reto";
    donas = [];
    alert("춰Nivel " + nivel + " completado! Pr칩ximo juego: " + listaJuegos[nivel]);
}

// Controles M칩viles
document.getElementById('btn-izq').ontouchstart = () => { homero.x -= 20; };
document.getElementById('btn-der').ontouchstart = () => { homero.x += 20; };
document.getElementById('btn-saltar').ontouchstart = () => { 
    if(!homero.saltando) { homero.dy = -15; homero.saltando = true; } 
};

// Generar donas cada segundo
setInterval(crearDona, 1500);
update();

</script>
</body>
</html>
